# Alto Jupix Integration - Environment Variables
# Copy this file to .env.local and fill in your values

# ============================================================================
# Azure Functions Core Settings
# ============================================================================
AzureWebJobsStorage=UseDevelopmentStorage=true
FUNCTIONS_WORKER_RUNTIME=node

# ============================================================================
# Azure AD Authentication (Microsoft SSO)
# ============================================================================
# Required for user authentication and access control
# See AZURE_AD_SETUP.md for setup instructions

# Your Azure AD tenant ID (from Azure Portal > Azure Active Directory > Overview)
AZURE_AD_TENANT_ID=your-tenant-id-here

# App registration client ID (from Azure Portal > App Registrations)
AZURE_AD_CLIENT_ID=your-client-id-here

# App registration client secret (from Azure Portal > App Registrations > Certificates & secrets)
AZURE_AD_CLIENT_SECRET=your-client-secret-here

# Redirect URI for OAuth2 callback
# Development: http://localhost:7071/api/auth/callback
# Production: https://your-function-app.azurewebsites.net/api/auth/callback
AZURE_AD_REDIRECT_URI=http://localhost:7071/api/auth/callback

# ============================================================================
# PII Encryption (GDPR Compliance)
# ============================================================================
# Required for encrypting personal data at rest in Azure Table Storage

# Local development encryption key (256-bit AES key, base64-encoded)
# Generate new key: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# IMPORTANT: Keep this secret! Never commit to git!
PII_ENCRYPTION_KEY_LOCAL=UImE2LdWS/bhRt5FGcii2iereQo2EGbnoCk287Y/710=

# Azure Key Vault URL (production only)
# Example: https://my-keyvault.vault.azure.net/
# AZURE_KEYVAULT_URL=

# Azure Key Vault encryption key name (production only)
# AZURE_KEYVAULT_KEY_NAME=pii-encryption-key

# ============================================================================
# Alto API Configuration
# ============================================================================
# Alto property management system API credentials

ALTO_CLIENT_ID=d9kj85ukjpr6634i4sae0g00s
ALTO_CLIENT_SECRET=pbfip6d65m5kkouoa5l9c4kagmd883erdej1t8h6k1tha7bd8c2
ALTO_INTEGRATION_ID=c37c658a-4bcf-4781-8583-7c5fd1e77faf
ALTO_AGENCY_REF=1af89d60-662c-475b-bcc8-9bcbf04b6322
ALTO_API_BASE_URL=https://api.alto.io

# ============================================================================
# TDS API Configuration
# ============================================================================
# The Dispute Service API credentials

# Legacy TDS API
TDS_LEGACY_API_URL=https://api.tenancydepositscheme.com
TDS_LEGACY_API_KEY=your-legacy-api-key

# Salesforce-based TDS API
TDS_SALESFORCE_API_URL=https://api.tds-salesforce.com
TDS_SALESFORCE_CLIENT_ID=your-salesforce-client-id
TDS_SALESFORCE_CLIENT_SECRET=your-salesforce-client-secret

# ============================================================================
# Application Mode
# ============================================================================
# Set to 'development' for local testing with mock auth
# Set to 'production' for Azure deployment with real Azure AD auth
NODE_ENV=development

# ============================================================================
# Logging and Monitoring
# ============================================================================
# Application Insights connection string (optional, for production monitoring)
# APPLICATIONINSIGHTS_CONNECTION_STRING=your-app-insights-connection-string
